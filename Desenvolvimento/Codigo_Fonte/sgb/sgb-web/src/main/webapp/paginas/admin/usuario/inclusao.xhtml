<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">

    <ui:composition template="/template/template.xhtml">

        <ui:define name="content">

            <p:panel header="#{msg['cadastro.usuario.panel.header']}">

                <h:form>

                    <p:messages autoUpdate="true"/>

                    <h:panelGrid columns="2">

                        <h:outputLabel value="#{msg['cadastro.usuario.label.nome']}:" 
                                       for="usuarioNome" />

                        <p:inputText value="#{usuarioController.form.entity.nome}" 
                                     id="usuarioNome" />

                        <h:outputLabel value="#{msg['cadastro.usuario.label.sobrenome']}:" 
                                       for="usuarioSobrenome" />

                        <p:inputText value="#{usuarioController.form.entity.sobrenome}" 
                                     id="usuarioSobrenome" />

                        <h:outputLabel value="#{msg['cadastro.usuario.label.email']}:" 
                                       for="usuarioEmail" />

                        <p:inputText value="#{usuarioController.form.entity.email}" 
                                     id="usuarioEmail" />

                        <h:outputLabel value="#{msg['cadastro.usuario.label.confirmacaoemail']}:" 
                                       for="usuarioConfirmacaoEmail" />

                        <p:inputText value="#{usuarioController.form.entity.confirmacaoEmail}" 
                                     id="usuarioConfirmacaoEmail" />

                        <h:outputLabel value="#{msg['cadastro.usuario.label.password']}:" 
                                       for="usuarioPassword" />

                        <p:password value="#{usuarioController.form.entity.senha}" 
                                    id="usuarioPassword" feedback="true" 
                                    match="usuarioConfirmacaoPassword" 
                                    validatorMessage="Confirma senha diferendes da senha informada." />

                        <h:outputLabel value="#{msg['cadastro.usuario.label.confirmacaopassword']}:" 
                                       for="usuarioConfirmacaoPassword" />

                        <p:password value="#{usuarioController.form.entity.senha}" 
                                    id="usuarioConfirmacaoPassword" />

                        <h:outputLabel value="#{msg['cadastro.usuario.label.perfil']}:" />

                        <p:selectOneRadio value="#{usuarioController.form.entity.perfil}" layout="pageDirection" converter="perfilConverter">  
                            <f:selectItems value="#{usuarioController.perfil}" var="perfil" itemLabel="#{perfil.name}" itemValue="#{perfil}" /> 
                        </p:selectOneRadio>  


                    </h:panelGrid>

                    <p:commandButton actionListener="#{usuarioController.criarUsuario()}"
                                     value="#{msg['cadastro.usuario.button.insert']}"
                                     update="@form"
                                     icon="ui-icon-disk"/>

                    <p:commandButton  ajax="false" immediate="true"  
                                      action="#{usuarioController.openInitialPage()}" 
                                      value="#{msg['cadastro.livro.button.back']}"
                                      icon="ui-icon-arrowreturnthick-1-w"/>

                </h:form>

            </p:panel>        

        </ui:define>

    </ui:composition>

</html>